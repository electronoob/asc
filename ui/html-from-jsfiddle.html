<style>
body {
  background-color: #acb4c1;
  user-select: none;
}
div.overlay{
    width: 100%;
    height: 100%;
    position: absolute;
    top: 0;
    left:0;
    filter: blur(3px);
    z-index: 1;
}
div.content {
  background-color: #c0c0c0;
}
</style>
<div class=overlay></div>
<div id="window_1" class="window">
  <div id="content_1" class="content">
  </div>
</div>
<script>

function xpm_template()
{
  this.button_offset=1;
  this.button_spacing=1;
  this.full_width_title=true;
  this.title_horizontal_offset=2;
  this.title_vertical_offset_active=3;
  this.title_vertical_offset_inactive=3;
  this.title_shadow_active=false;
  this.title_shadow_inactive=false;
   this.xpm = {};
   this.c = {};
   this.img = {};

this.xpm.bottom_active = [
"28 8 3 1",
" 	c None",
".	c #FFFFFF",
"+	c #333333",
"............................",
"++++++++++++++++++++++++++++",
"++++++++++++++++++++++++++++",
"++++++++++++++++++++++++++++",
"++++++++++++++++++++++++++++",
"++++++++++++++++++++++++++++",
"++++++++++++++++++++++++++++",
"............................"];
this.xpm.bottom_inactive = [
"28 8 3 1",
" 	c None",
".	c #FFFFFF",
"+	c #333333",
"............................",
"++++++++++++++++++++++++++++",
"++++++++++++++++++++++++++++",
"++++++++++++++++++++++++++++",
"++++++++++++++++++++++++++++",
"++++++++++++++++++++++++++++",
"++++++++++++++++++++++++++++",
"............................"];
this.xpm.bottom_left_active = [
"28 28 3 1",
" 	c None",
".	c #FFFFFF",
"+	c #333333",
".++++++.                    ",
".++++++.                    ",
".++++++.                    ",
".++++++.                    ",
".++++++.                    ",
".++++++.                    ",
".++++++.                    ",
".++++++.                    ",
".++++++.                    ",
".++++++.                    ",
".++++++.                    ",
".++++++.                    ",
".++++++.                    ",
".++++++.                    ",
".++++++.                    ",
".++++++.                    ",
".++++++.                    ",
".++++++.                    ",
".++++++.                    ",
".++++++.                    ",
".++++++.....................",
".+++++++++++++++++++++++++++",
".+++++++++++++++++++++++++++",
".+++++++++++++++++++++++++++",
".+++++++++++++++++++++++++++",
".+++++++++++++++++++++++++++",
".+++++++++++++++++++++++++++",
"............................"];
this.xpm.bottom_left_inactive = [
"28 28 3 1",
" 	c None",
".	c #FFFFFF",
"+	c #333333",
".++++++.                    ",
".++++++.                    ",
".++++++.                    ",
".++++++.                    ",
".++++++.                    ",
".++++++.                    ",
".++++++.                    ",
".++++++.                    ",
".++++++.                    ",
".++++++.                    ",
".++++++.                    ",
".++++++.                    ",
".++++++.                    ",
".++++++.                    ",
".++++++.                    ",
".++++++.                    ",
".++++++.                    ",
".++++++.                    ",
".++++++.                    ",
".++++++.                    ",
".++++++.....................",
".+++++++++++++++++++++++++++",
".+++++++++++++++++++++++++++",
".+++++++++++++++++++++++++++",
".+++++++++++++++++++++++++++",
".+++++++++++++++++++++++++++",
".+++++++++++++++++++++++++++",
"............................"];
this.xpm.bottom_right_active = [
"28 28 3 1",
" 	c None",
".	c #FFFFFF",
"+	c #333333",
"                    .++++++.",
"                    .++++++.",
"                    .++++++.",
"                    .++++++.",
"                    .++++++.",
"                    .++++++.",
"                    .++++++.",
"                    .++++++.",
"                    .++++++.",
"                    .++++++.",
"                    .++++++.",
"                    .++++++.",
"                    .++++++.",
"                    .++++++.",
"                    .++++++.",
"                    .++++++.",
"                    .++++++.",
"                    .++++++.",
"                    .++++++.",
"                    .++++++.",
".....................++++++.",
"+++++++++++++++++++++++++++.",
"+++++++++++++++++++++++++++.",
"+++++++++++++++++++++++++++.",
"+++++++++++++++++++++++++++.",
"+++++++++++++++++++++++++++.",
"+++++++++++++++++++++++++++.",
"............................"];
this.xpm.bottom_right_inactive = [
"28 28 3 1",
" 	c None",
".	c #FFFFFF",
"+	c #333333",
"                    .++++++.",
"                    .++++++.",
"                    .++++++.",
"                    .++++++.",
"                    .++++++.",
"                    .++++++.",
"                    .++++++.",
"                    .++++++.",
"                    .++++++.",
"                    .++++++.",
"                    .++++++.",
"                    .++++++.",
"                    .++++++.",
"                    .++++++.",
"                    .++++++.",
"                    .++++++.",
"                    .++++++.",
"                    .++++++.",
"                    .++++++.",
"                    .++++++.",
".....................++++++.",
"+++++++++++++++++++++++++++.",
"+++++++++++++++++++++++++++.",
"+++++++++++++++++++++++++++.",
"+++++++++++++++++++++++++++.",
"+++++++++++++++++++++++++++.",
"+++++++++++++++++++++++++++.",
"............................"];
this.xpm.close_active = [
"20 20 4 1",
" 	c None",
".	c #333333",
"+	c #53a600",
"@	c #FFFFFF",
"      ........      ",
"    ...++++++...    ",
"   ..++++++++++..   ",
"  ..++++++++++++..  ",
" ..++++++++++++++.. ",
" .+++@@++++++@@+++. ",
"..+++@@@++++@@@+++..",
".+++++@@@++@@@+++++.",
".++++++@@@@@@++++++.",
".+++++++@@@@+++++++.",
".+++++++@@@@+++++++.",
".++++++@@@@@@++++++.",
".+++++@@@++@@@+++++.",
"..+++@@@++++@@@+++..",
" .+++@@++++++@@+++. ",
" ..++++++++++++++.. ",
"  ..++++++++++++..  ",
"   ..++++++++++..   ",
"    ...++++++...    ",
"      ........      "];
this.xpm.close_inactive = [
"20 20 3 1",
" 	c None",
".	c #333333",
"+	c #FFFFFF",
"      ........      ",
"    ............    ",
"   ..............   ",
"  ................  ",
" .................. ",
" ....++......++.... ",
".....+++....+++.....",
"......+++..+++......",
".......++++++.......",
"........++++........",
"........++++........",
".......++++++.......",
"......+++..+++......",
".....+++....+++.....",
" ....++......++.... ",
" .................. ",
"  ................  ",
"   ..............   ",
"    ............    ",
"      ........      "];
this.xpm.close_prelight = [
"20 20 4 1",
" 	c None",
".	c #333333",
"+	c #FF3333",
"@	c #FFFFFF",
"      ........      ",
"    ...++++++...    ",
"   ..++++++++++..   ",
"  ..++++++++++++..  ",
" ..++++++++++++++.. ",
" .+++@@++++++@@+++. ",
"..+++@@@++++@@@+++..",
".+++++@@@++@@@+++++.",
".++++++@@@@@@++++++.",
".+++++++@@@@+++++++.",
".+++++++@@@@+++++++.",
".++++++@@@@@@++++++.",
".+++++@@@++@@@+++++.",
"..+++@@@++++@@@+++..",
" .+++@@++++++@@+++. ",
" ..++++++++++++++.. ",
"  ..++++++++++++..  ",
"   ..++++++++++..   ",
"    ...++++++...    ",
"      ........      "];
this.xpm.close_pressed = [
"20 20 3 1",
" 	c None",
".	c #333333",
"+	c #FFFFFF",
"      ........      ",
"    ...++++++...    ",
"   ..++++++++++..   ",
"  ..++++++++++++..  ",
" ..++++++++++++++.. ",
" .+++..++++++..+++. ",
"..+++...++++...+++..",
".+++++...++...+++++.",
".++++++......++++++.",
".+++++++....+++++++.",
".+++++++....+++++++.",
".++++++......++++++.",
".+++++...++...+++++.",
"..+++...++++...+++..",
" .+++..++++++..+++. ",
" ..++++++++++++++.. ",
"  ..++++++++++++..  ",
"   ..++++++++++..   ",
"    ...++++++...    ",
"      ........      "];
this.xpm.hide_active = [
"20 20 3 1",
" 	c None",
".	c #333333",
"+	c #FFFFFF",
"      ........      ",
"    ............    ",
"   ..............   ",
"  ................  ",
" .................. ",
" .................. ",
"....................",
"....................",
"....................",
".....++++++++++.....",
".....++++++++++.....",
"....................",
"....................",
"....................",
" .................. ",
" .................. ",
"  ................  ",
"   ..............   ",
"    ............    ",
"      ........      "];
this.xpm.hide_inactive = [
"20 20 3 1",
" 	c None",
".	c #333333",
"+	c #FFFFFF",
"      ........      ",
"    ............    ",
"   ..............   ",
"  ................  ",
" .................. ",
" .................. ",
"....................",
"....................",
"....................",
".....++++++++++.....",
".....++++++++++.....",
"....................",
"....................",
"....................",
" .................. ",
" .................. ",
"  ................  ",
"   ..............   ",
"    ............    ",
"      ........      "];
this.xpm.hide_prelight = [
"20 20 4 1",
" 	c None",
".	c #333333",
"+	c #808080",
"@	c #FFFFFF",
"      ........      ",
"    ...++++++...    ",
"   ..++++++++++..   ",
"  ..++++++++++++..  ",
" ..++++++++++++++.. ",
" .++++++++++++++++. ",
"..++++++++++++++++..",
".++++++++++++++++++.",
".++++++++++++++++++.",
".++++@@@@@@@@@@++++.",
".++++@@@@@@@@@@++++.",
".++++++++++++++++++.",
".++++++++++++++++++.",
"..++++++++++++++++..",
" .++++++++++++++++. ",
" ..++++++++++++++.. ",
"  ..++++++++++++..  ",
"   ..++++++++++..   ",
"    ...++++++...    ",
"      ........      "];
this.xpm.hide_pressed = [
"20 20 3 1",
" 	c None",
".	c #333333",
"+	c #FFFFFF",
"      ........      ",
"    ...++++++...    ",
"   ..++++++++++..   ",
"  ..++++++++++++..  ",
" ..++++++++++++++.. ",
" .++++++++++++++++. ",
"..++++++++++++++++..",
".++++++++++++++++++.",
".++++++++++++++++++.",
".++++..........++++.",
".++++..........++++.",
".++++++++++++++++++.",
".++++++++++++++++++.",
"..++++++++++++++++..",
" .++++++++++++++++. ",
" ..++++++++++++++.. ",
"  ..++++++++++++..  ",
"   ..++++++++++..   ",
"    ...++++++...    ",
"      ........      "];
this.xpm.left_active = [
"8 30 3 1",
" 	c None",
".	c #FFFFFF",
"+	c #333333",
".++++++.",
".++++++.",
".++++++.",
".++++++.",
".++++++.",
".++++++.",
".++++++.",
".++++++.",
".++++++.",
".++++++.",
".++++++.",
".++++++.",
".++++++.",
".++++++.",
".++++++.",
".++++++.",
".++++++.",
".++++++.",
".++++++.",
".++++++.",
".++++++.",
".++++++.",
".++++++.",
".++++++.",
".++++++.",
".++++++.",
".++++++.",
".++++++.",
".++++++.",
".++++++."];
this.xpm.left_inactive = [
"8 30 3 1",
" 	c None",
".	c #FFFFFF",
"+	c #333333",
".++++++.",
".++++++.",
".++++++.",
".++++++.",
".++++++.",
".++++++.",
".++++++.",
".++++++.",
".++++++.",
".++++++.",
".++++++.",
".++++++.",
".++++++.",
".++++++.",
".++++++.",
".++++++.",
".++++++.",
".++++++.",
".++++++.",
".++++++.",
".++++++.",
".++++++.",
".++++++.",
".++++++.",
".++++++.",
".++++++.",
".++++++.",
".++++++.",
".++++++.",
".++++++."];
this.xpm.maximize_active = [
"20 20 3 1",
" 	c None",
".	c #333333",
"+	c #FFFFFF",
"      ........      ",
"    ............    ",
"   ..............   ",
"  ................  ",
" .................. ",
" ....++++++++++.... ",
".....++++++++++.....",
".....++......++.....",
".....++......++.....",
".....++......++.....",
".....++......++.....",
".....++......++.....",
".....++......++.....",
".....++++++++++.....",
" ....++++++++++.... ",
" .................. ",
"  ................  ",
"   ..............   ",
"    ............    ",
"      ........      "];
this.xpm.maximize_inactive = [
"20 20 3 1",
" 	c None",
".	c #333333",
"+	c #FFFFFF",
"      ........      ",
"    ............    ",
"   ..............   ",
"  ................  ",
" .................. ",
" ....++++++++++.... ",
".....++++++++++.....",
".....++......++.....",
".....++......++.....",
".....++......++.....",
".....++......++.....",
".....++......++.....",
".....++......++.....",
".....++++++++++.....",
" ....++++++++++.... ",
" .................. ",
"  ................  ",
"   ..............   ",
"    ............    ",
"      ........      "];
this.xpm.maximize_prelight = [
"20 20 4 1",
" 	c None",
".	c #333333",
"+	c #808080",
"@	c #FFFFFF",
"      ........      ",
"    ...++++++...    ",
"   ..++++++++++..   ",
"  ..++++++++++++..  ",
" ..++++++++++++++.. ",
" .+++@@@@@@@@@@+++. ",
"..+++@@@@@@@@@@+++..",
".++++@@++++++@@++++.",
".++++@@++++++@@++++.",
".++++@@++++++@@++++.",
".++++@@++++++@@++++.",
".++++@@++++++@@++++.",
".++++@@++++++@@++++.",
"..+++@@@@@@@@@@+++..",
" .+++@@@@@@@@@@+++. ",
" ..++++++++++++++.. ",
"  ..++++++++++++..  ",
"   ..++++++++++..   ",
"    ...++++++...    ",
"      ........      "];
this.xpm.maximize_pressed = [
"20 20 3 1",
" 	c None",
".	c #333333",
"+	c #FFFFFF",
"      ........      ",
"    ...++++++...    ",
"   ..++++++++++..   ",
"  ..++++++++++++..  ",
" ..++++++++++++++.. ",
" .+++..........+++. ",
"..+++..........+++..",
".++++..++++++..++++.",
".++++..++++++..++++.",
".++++..++++++..++++.",
".++++..++++++..++++.",
".++++..++++++..++++.",
".++++..++++++..++++.",
"..+++..........+++..",
" .+++..........+++. ",
" ..++++++++++++++.. ",
"  ..++++++++++++..  ",
"   ..++++++++++..   ",
"    ...++++++...    ",
"      ........      "];
this.xpm.maximize_toggled_active = [
"20 20 3 1",
" 	c None",
".	c #333333",
"+	c #FFFFFF",
"      ........      ",
"    ............    ",
"   ..............   ",
"  ................  ",
" .................. ",
" ......++++++++.... ",
".......++++++++.....",
".............++.....",
".....+++++++.++.....",
".....+++++++.++.....",
".....++...++.++.....",
".....++...++.++.....",
".....++...++.++.....",
".....+++++++........",
" ....+++++++....... ",
" .................. ",
"  ................  ",
"   ..............   ",
"    ............    ",
"      ........      "];
this.xpm.maximize_toggled_inactive = [
"20 20 3 1",
" 	c None",
".	c #333333",
"+	c #FFFFFF",
"      ........      ",
"    ............    ",
"   ..............   ",
"  ................  ",
" .................. ",
" ......++++++++.... ",
".......++++++++.....",
".............++.....",
".....+++++++.++.....",
".....+++++++.++.....",
".....++...++.++.....",
".....++...++.++.....",
".....++...++.++.....",
".....+++++++........",
" ....+++++++....... ",
" .................. ",
"  ................  ",
"   ..............   ",
"    ............    ",
"      ........      "];
this.xpm.maximize_toggled_prelight = [
"20 20 4 1",
" 	c None",
".	c #333333",
"+	c #808080",
"@	c #FFFFFF",
"      ........      ",
"    ...++++++...    ",
"   ..++++++++++..   ",
"  ..++++++++++++..  ",
" ..++++++++++++++.. ",
" .+++++@@@@@@@@+++. ",
"..+++++@@@@@@@@+++..",
".++++++++++++@@++++.",
".++++@@@@@@@+@@++++.",
".++++@@@@@@@+@@++++.",
".++++@@+++@@+@@++++.",
".++++@@+++@@+@@++++.",
".++++@@+++@@+@@++++.",
"..+++@@@@@@@++++++..",
" .+++@@@@@@@++++++. ",
" ..++++++++++++++.. ",
"  ..++++++++++++..  ",
"   ..++++++++++..   ",
"    ...++++++...    ",
"      ........      "];
this.xpm.maximize_toggled_pressed = [
"20 20 3 1",
" 	c None",
".	c #333333",
"+	c #FFFFFF",
"      ........      ",
"    ...++++++...    ",
"   ..++++++++++..   ",
"  ..++++++++++++..  ",
" ..++++++++++++++.. ",
" .+++++........+++. ",
"..+++++........+++..",
".++++++++++++..++++.",
".++++.......+..++++.",
".++++.......+..++++.",
".++++..+++..+..++++.",
".++++..+++..+..++++.",
".++++..+++..+..++++.",
"..+++.......++++++..",
" .+++.......++++++. ",
" ..++++++++++++++.. ",
"  ..++++++++++++..  ",
"   ..++++++++++..   ",
"    ...++++++...    ",
"      ........      "];
this.xpm.menu_active = [
"20 20 3 1",
" 	c None",
".	c #333333",
"+	c #FFFFFF",
"      ........      ",
"    ............    ",
"   ..............   ",
"  ................  ",
" .................. ",
" ....++++++++++.... ",
".....++++++++++.....",
"....................",
"....................",
".....++++++++++.....",
".....++++++++++.....",
"....................",
"....................",
".....++++++++++.....",
" ....++++++++++.... ",
" .................. ",
"  ................  ",
"   ..............   ",
"    ............    ",
"      ........      "];
this.xpm.menu_inactive = [
"20 20 3 1",
" 	c None",
".	c #333333",
"+	c #FFFFFF",
"      ........      ",
"    ............    ",
"   ..............   ",
"  ................  ",
" .................. ",
" ....++++++++++.... ",
".....++++++++++.....",
"....................",
"....................",
".....++++++++++.....",
".....++++++++++.....",
"....................",
"....................",
".....++++++++++.....",
" ....++++++++++.... ",
" .................. ",
"  ................  ",
"   ..............   ",
"    ............    ",
"      ........      "];
this.xpm.menu_prelight = [
"20 20 4 1",
" 	c None",
".	c #333333",
"+	c #808080",
"@	c #FFFFFF",
"      ........      ",
"    ...++++++...    ",
"   ..++++++++++..   ",
"  ..++++++++++++..  ",
" ..++++++++++++++.. ",
" .+++@@@@@@@@@@+++. ",
"..+++@@@@@@@@@@+++..",
".++++++++++++++++++.",
".++++++++++++++++++.",
".++++@@@@@@@@@@++++.",
".++++@@@@@@@@@@++++.",
".++++++++++++++++++.",
".++++++++++++++++++.",
"..+++@@@@@@@@@@+++..",
" .+++@@@@@@@@@@+++. ",
" ..++++++++++++++.. ",
"  ..++++++++++++..  ",
"   ..++++++++++..   ",
"    ...++++++...    ",
"      ........      "];
this.xpm.menu_pressed = [
"20 20 3 1",
" 	c None",
".	c #333333",
"+	c #FFFFFF",
"      ........      ",
"    ...++++++...    ",
"   ..++++++++++..   ",
"  ..++++++++++++..  ",
" ..++++++++++++++.. ",
" .+++..........+++. ",
"..+++..........+++..",
".++++++++++++++++++.",
".++++++++++++++++++.",
".++++..........++++.",
".++++..........++++.",
".++++++++++++++++++.",
".++++++++++++++++++.",
"..+++..........+++..",
" .+++..........+++. ",
" ..++++++++++++++.. ",
"  ..++++++++++++..  ",
"   ..++++++++++..   ",
"    ...++++++...    ",
"      ........      "];
this.xpm.right_active = [
"8 30 3 1",
" 	c None",
".	c #FFFFFF",
"+	c #333333",
".++++++.",
".++++++.",
".++++++.",
".++++++.",
".++++++.",
".++++++.",
".++++++.",
".++++++.",
".++++++.",
".++++++.",
".++++++.",
".++++++.",
".++++++.",
".++++++.",
".++++++.",
".++++++.",
".++++++.",
".++++++.",
".++++++.",
".++++++.",
".++++++.",
".++++++.",
".++++++.",
".++++++.",
".++++++.",
".++++++.",
".++++++.",
".++++++.",
".++++++.",
".++++++."];
this.xpm.right_inactive = [
"8 30 3 1",
" 	c None",
".	c #FFFFFF",
"+	c #333333",
".++++++.",
".++++++.",
".++++++.",
".++++++.",
".++++++.",
".++++++.",
".++++++.",
".++++++.",
".++++++.",
".++++++.",
".++++++.",
".++++++.",
".++++++.",
".++++++.",
".++++++.",
".++++++.",
".++++++.",
".++++++.",
".++++++.",
".++++++.",
".++++++.",
".++++++.",
".++++++.",
".++++++.",
".++++++.",
".++++++.",
".++++++.",
".++++++.",
".++++++.",
".++++++."];
this.xpm.shade_active = [
"20 20 3 1",
" 	c None",
".	c #333333",
"+	c #FFFFFF",
"      ........      ",
"    ............    ",
"   ..............   ",
"  ................  ",
" .................. ",
" ....++++++++++.... ",
".....++++++++++.....",
"....................",
"....................",
".........++.........",
"........++++........",
".......++++++.......",
"......+++..+++......",
".....+++....+++.....",
" ....++......++.... ",
" .................. ",
"  ................  ",
"   ..............   ",
"    ............    ",
"      ........      "];
this.xpm.shade_inactive = [
"20 20 3 1",
" 	c None",
".	c #333333",
"+	c #FFFFFF",
"      ........      ",
"    ............    ",
"   ..............   ",
"  ................  ",
" .................. ",
" ....++++++++++.... ",
".....++++++++++.....",
"....................",
"....................",
".........++.........",
"........++++........",
".......++++++.......",
"......+++..+++......",
".....+++....+++.....",
" ....++......++.... ",
" .................. ",
"  ................  ",
"   ..............   ",
"    ............    ",
"      ........      "];
this.xpm.shade_prelight = [
"20 20 4 1",
" 	c None",
".	c #333333",
"+	c #808080",
"@	c #FFFFFF",
"      ........      ",
"    ...++++++...    ",
"   ..++++++++++..   ",
"  ..++++++++++++..  ",
" ..++++++++++++++.. ",
" .+++@@@@@@@@@@+++. ",
"..+++@@@@@@@@@@+++..",
".++++++++++++++++++.",
".++++++++++++++++++.",
".++++++++@@++++++++.",
".+++++++@@@@+++++++.",
".++++++@@@@@@++++++.",
".+++++@@@++@@@+++++.",
"..+++@@@++++@@@+++..",
" .+++@@++++++@@+++. ",
" ..++++++++++++++.. ",
"  ..++++++++++++..  ",
"   ..++++++++++..   ",
"    ...++++++...    ",
"      ........      "];
this.xpm.shade_pressed = [
"20 20 3 1",
" 	c None",
".	c #333333",
"+	c #FFFFFF",
"      ........      ",
"    ...++++++...    ",
"   ..++++++++++..   ",
"  ..++++++++++++..  ",
" ..++++++++++++++.. ",
" .+++..........+++. ",
"..+++..........+++..",
".++++++++++++++++++.",
".++++++++++++++++++.",
".++++++++..++++++++.",
".+++++++....+++++++.",
".++++++......++++++.",
".+++++...++...+++++.",
"..+++...++++...+++..",
" .+++..++++++..+++. ",
" ..++++++++++++++.. ",
"  ..++++++++++++..  ",
"   ..++++++++++..   ",
"    ...++++++...    ",
"      ........      "];
this.xpm.shade_toggled_active = [
"20 20 3 1",
" 	c None",
".	c #333333",
"+	c #FFFFFF",
"      ........      ",
"    ............    ",
"   ..............   ",
"  ................  ",
" .................. ",
" ....++......++.... ",
".....+++....+++.....",
"......+++..+++......",
".......++++++.......",
"........++++........",
".........++.........",
"....................",
"....................",
".....++++++++++.....",
" ....++++++++++.... ",
" .................. ",
"  ................  ",
"   ..............   ",
"    ............    ",
"      ........      "];
this.xpm.shade_toggled_inactive = [
"20 20 3 1",
" 	c None",
".	c #333333",
"+	c #FFFFFF",
"      ........      ",
"    ............    ",
"   ..............   ",
"  ................  ",
" .................. ",
" ....++......++.... ",
".....+++....+++.....",
"......+++..+++......",
".......++++++.......",
"........++++........",
".........++.........",
"....................",
"....................",
".....++++++++++.....",
" ....++++++++++.... ",
" .................. ",
"  ................  ",
"   ..............   ",
"    ............    ",
"      ........      "];
this.xpm.shade_toggled_prelight = [
"20 20 4 1",
" 	c None",
".	c #333333",
"+	c #808080",
"@	c #FFFFFF",
"      ........      ",
"    ...++++++...    ",
"   ..++++++++++..   ",
"  ..++++++++++++..  ",
" ..++++++++++++++.. ",
" .+++@@++++++@@+++. ",
"..+++@@@++++@@@+++..",
".+++++@@@++@@@+++++.",
".++++++@@@@@@++++++.",
".+++++++@@@@+++++++.",
".++++++++@@++++++++.",
".++++++++++++++++++.",
".++++++++++++++++++.",
"..+++@@@@@@@@@@+++..",
" .+++@@@@@@@@@@+++. ",
" ..++++++++++++++.. ",
"  ..++++++++++++..  ",
"   ..++++++++++..   ",
"    ...++++++...    ",
"      ........      "];
this.xpm.shade_toggled_pressed = [
"20 20 3 1",
" 	c None",
".	c #333333",
"+	c #FFFFFF",
"      ........      ",
"    ...++++++...    ",
"   ..++++++++++..   ",
"  ..++++++++++++..  ",
" ..++++++++++++++.. ",
" .+++..++++++..+++. ",
"..+++...++++...+++..",
".+++++...++...+++++.",
".++++++......++++++.",
".+++++++....+++++++.",
".++++++++..++++++++.",
".++++++++++++++++++.",
".++++++++++++++++++.",
"..+++..........+++..",
" .+++..........+++. ",
" ..++++++++++++++.. ",
"  ..++++++++++++..  ",
"   ..++++++++++..   ",
"    ...++++++...    ",
"      ........      "];
this.xpm.stick_active = [
"20 20 3 1",
" 	c None",
".	c #333333",
"+	c #FFFFFF",
"      ........      ",
"    ............    ",
"   ..............   ",
"  ................  ",
" .................. ",
" .....++++++++..... ",
".....++++++++++.....",
".....++......++.....",
".....++......++.....",
".....++......++.....",
".....++......++.....",
".....++......++.....",
".....++......++.....",
".....++++++++++.....",
" .....++++++++..... ",
" .................. ",
"  ................  ",
"   ..............   ",
"    ............    ",
"      ........      "];
this.xpm.stick_inactive = [
"20 20 3 1",
" 	c None",
".	c #333333",
"+	c #FFFFFF",
"      ........      ",
"    ............    ",
"   ..............   ",
"  ................  ",
" .................. ",
" .....++++++++..... ",
".....++++++++++.....",
".....++......++.....",
".....++......++.....",
".....++......++.....",
".....++......++.....",
".....++......++.....",
".....++......++.....",
".....++++++++++.....",
" .....++++++++..... ",
" .................. ",
"  ................  ",
"   ..............   ",
"    ............    ",
"      ........      "];
this.xpm.stick_prelight = [
"20 20 4 1",
" 	c None",
".	c #333333",
"+	c #808080",
"@	c #FFFFFF",
"      ........      ",
"    ...++++++...    ",
"   ..++++++++++..   ",
"  ..++++++++++++..  ",
" ..++++++++++++++.. ",
" .++++@@@@@@@@++++. ",
"..+++@@@@@@@@@@+++..",
".++++@@++++++@@++++.",
".++++@@++++++@@++++.",
".++++@@++++++@@++++.",
".++++@@++++++@@++++.",
".++++@@++++++@@++++.",
".++++@@++++++@@++++.",
"..+++@@@@@@@@@@+++..",
" .++++@@@@@@@@++++. ",
" ..++++++++++++++.. ",
"  ..++++++++++++..  ",
"   ..++++++++++..   ",
"    ...++++++...    ",
"      ........      "];
this.xpm.stick_pressed = [
"20 20 3 1",
" 	c None",
".	c #333333",
"+	c #FFFFFF",
"      ........      ",
"    ...++++++...    ",
"   ..++++++++++..   ",
"  ..++++++++++++..  ",
" ..++++++++++++++.. ",
" .++++........++++. ",
"..+++..........+++..",
".++++..++++++..++++.",
".++++..++++++..++++.",
".++++..++++++..++++.",
".++++..++++++..++++.",
".++++..++++++..++++.",
".++++..++++++..++++.",
"..+++..........+++..",
" .++++........++++. ",
" ..++++++++++++++.. ",
"  ..++++++++++++..  ",
"   ..++++++++++..   ",
"    ...++++++...    ",
"      ........      "];
this.xpm.stick_toggled_active = [
"20 20 3 1",
" 	c None",
".	c #333333",
"+	c #FFFFFF",
"      ........      ",
"    ............    ",
"   ..............   ",
"  ................  ",
" .................. ",
" .....++++++++..... ",
".....++++++++++.....",
".....++......++.....",
".....++.++++.++.....",
".....++.++++.++.....",
".....++.++++.++.....",
".....++.++++.++.....",
".....++......++.....",
".....++++++++++.....",
" .....++++++++..... ",
" .................. ",
"  ................  ",
"   ..............   ",
"    ............    ",
"      ........      "];
this.xpm.stick_toggled_inactive = [
"20 20 3 1",
" 	c None",
".	c #333333",
"+	c #FFFFFF",
"      ........      ",
"    ............    ",
"   ..............   ",
"  ................  ",
" .................. ",
" .....++++++++..... ",
".....++++++++++.....",
".....++......++.....",
".....++.++++.++.....",
".....++.++++.++.....",
".....++.++++.++.....",
".....++.++++.++.....",
".....++......++.....",
".....++++++++++.....",
" .....++++++++..... ",
" .................. ",
"  ................  ",
"   ..............   ",
"    ............    ",
"      ........      "];
this.xpm.stick_toggled_prelight = [
"20 20 4 1",
" 	c None",
".	c #333333",
"+	c #808080",
"@	c #FFFFFF",
"      ........      ",
"    ...++++++...    ",
"   ..++++++++++..   ",
"  ..++++++++++++..  ",
" ..++++++++++++++.. ",
" .++++@@@@@@@@++++. ",
"..+++@@@@@@@@@@+++..",
".++++@@++++++@@++++.",
".++++@@+@@@@+@@++++.",
".++++@@+@@@@+@@++++.",
".++++@@+@@@@+@@++++.",
".++++@@+@@@@+@@++++.",
".++++@@++++++@@++++.",
"..+++@@@@@@@@@@+++..",
" .++++@@@@@@@@++++. ",
" ..++++++++++++++.. ",
"  ..++++++++++++..  ",
"   ..++++++++++..   ",
"    ...++++++...    ",
"      ........      "];
this.xpm.stick_toggled_pressed = [
"20 20 3 1",
" 	c None",
".	c #333333",
"+	c #FFFFFF",
"      ........      ",
"    ...++++++...    ",
"   ..++++++++++..   ",
"  ..++++++++++++..  ",
" ..++++++++++++++.. ",
" .++++........++++. ",
"..+++..........+++..",
".++++..++++++..++++.",
".++++..+....+..++++.",
".++++..+....+..++++.",
".++++..+....+..++++.",
".++++..+....+..++++.",
".++++..++++++..++++.",
"..+++..........+++..",
" .++++........++++. ",
" ..++++++++++++++.. ",
"  ..++++++++++++..  ",
"   ..++++++++++..   ",
"    ...++++++...    ",
"      ........      "];
this.xpm.title_1_active = [
"8 30 3 1",
" 	c None",
".	c #FFFFFF",
"+	c #333333",
"........",
"++++++++",
"++++++++",
"++++++++",
"++++++++",
"++++++++",
"++++++++",
"++++++++",
"++++++++",
"++++++++",
"++++++++",
"++++++++",
"++++++++",
"++++++++",
"++++++++",
"++++++++",
"++++++++",
"++++++++",
"++++++++",
"++++++++",
"++++++++",
"++++++++",
"++++++++",
"++++++++",
"++++++++",
"++++++++",
"++++++++",
"++++++++",
"++++++++",
"........"];
this.xpm.title_1_inactive = [
"8 30 3 1",
" 	c None",
".	c #FFFFFF",
"+	c #333333",
"........",
"++++++++",
"++++++++",
"++++++++",
"++++++++",
"++++++++",
"++++++++",
"++++++++",
"++++++++",
"++++++++",
"++++++++",
"++++++++",
"++++++++",
"++++++++",
"++++++++",
"++++++++",
"++++++++",
"++++++++",
"++++++++",
"++++++++",
"++++++++",
"++++++++",
"++++++++",
"++++++++",
"++++++++",
"++++++++",
"++++++++",
"++++++++",
"++++++++",
"........"];
this.xpm.title_2_active = [
"40 30 6 1",
" 	c None",
".	c #FFFFFF",
"+	c #FDFEFE",
"@	c #333333",
"#	c #53a600",
"$	c #333537",
"..........+                             ",
"@@@@@@@@@@@@                            ",
"@@@@@@@@@@@@@                           ",
"@@@@@@@@@@@@@@##########################",
"@@@@@@@@@@@@@@@#########################",
"@@@@@@@@@@@@@@@#########################",
"@@@@@@@@@@@@@@@@########################",
"@@@@@@@@@@@@@@@@@#######################",
"@@@@@@@@@@@@@@@@@#######################",
"@@@@@@@@@@@@@@@@@@######################",
"@@@@@@@@@@@@@@@@@@@#####################",
"@@@@@@@@@@@@@@@@@@@#####################",
"@@@@@@@@@@@@@@@@@@@@####################",
"@@@@@@@@@@@@@@@@@@@@@###################",
"@@@@@@@@@@@@@@@@@@@@@###################",
"@@@@@@@@@@@@@@@@@@@@@@##################",
"@@@@@@@@@@@@@@@@@@@@@@@#################",
"@@@@@@@@@@@@@@@@@@@@@$@@################",
"@@@@@@@@@@@@@@@@@@@@@@@@################",
"@@@@@@@@@@@@@@@@@@@@@@@@@###############",
"@@@@@@@@@@@@@@@@@@@@@@@@@@##############",
"@@@@@@@@@@@@@@@@@@@@@@@@@@##############",
"@@@@@@@@@@@@@@@@@@@@@@@@@@@#############",
"@@@@@@@@@@@@@@@@@@@@@@@@@@@@############",
"@@@@@@@@@@@@@@@@@@@@@@@@@@@.............",
"@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@",
"@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@",
"@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@",
"@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@",
"........................................"];
this.xpm.title_2_inactive = [
"40 30 6 1",
" 	c None",
".	c #FFFFFF",
"+	c #FDFEFE",
"@	c #333333",
"#	c #D9D9D9",
"$	c #333537",
"..........+                             ",
"@@@@@@@@@@@@                            ",
"@@@@@@@@@@@@@                           ",
"@@@@@@@@@@@@@@##########################",
"@@@@@@@@@@@@@@@#########################",
"@@@@@@@@@@@@@@@#########################",
"@@@@@@@@@@@@@@@@########################",
"@@@@@@@@@@@@@@@@@#######################",
"@@@@@@@@@@@@@@@@@#######################",
"@@@@@@@@@@@@@@@@@@######################",
"@@@@@@@@@@@@@@@@@@@#####################",
"@@@@@@@@@@@@@@@@@@@#####################",
"@@@@@@@@@@@@@@@@@@@@####################",
"@@@@@@@@@@@@@@@@@@@@@###################",
"@@@@@@@@@@@@@@@@@@@@@###################",
"@@@@@@@@@@@@@@@@@@@@@@##################",
"@@@@@@@@@@@@@@@@@@@@@@@#################",
"@@@@@@@@@@@@@@@@@@@@@$@@################",
"@@@@@@@@@@@@@@@@@@@@@@@@################",
"@@@@@@@@@@@@@@@@@@@@@@@@@###############",
"@@@@@@@@@@@@@@@@@@@@@@@@@@##############",
"@@@@@@@@@@@@@@@@@@@@@@@@@@##############",
"@@@@@@@@@@@@@@@@@@@@@@@@@@@#############",
"@@@@@@@@@@@@@@@@@@@@@@@@@@@@############",
"@@@@@@@@@@@@@@@@@@@@@@@@@@@.............",
"@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@",
"@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@",
"@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@",
"@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@",
"........................................"];
this.xpm.title_3_active = [
"28 30 4 1",
" 	c None",
".	c #53a600",
"+	c #FFFFFF",
"@	c #333333",
"                            ",
"                            ",
"                            ",
"............................",
"............................",
"............................",
"............................",
"............................",
"............................",
"............................",
"............................",
"............................",
"............................",
"............................",
"............................",
"............................",
"............................",
"............................",
"............................",
"............................",
"............................",
"............................",
"............................",
"............................",
"++++++++++++++++++++++++++++",
"@@@@@@@@@@@@@@@@@@@@@@@@@@@@",
"@@@@@@@@@@@@@@@@@@@@@@@@@@@@",
"@@@@@@@@@@@@@@@@@@@@@@@@@@@@",
"@@@@@@@@@@@@@@@@@@@@@@@@@@@@",
"++++++++++++++++++++++++++++"];
this.xpm.title_3_inactive = [
"28 30 4 1",
" 	c None",
".	c #D9D9D9",
"+	c #FFFFFF",
"@	c #333333",
"                            ",
"                            ",
"                            ",
"............................",
"............................",
"............................",
"............................",
"............................",
"............................",
"............................",
"............................",
"............................",
"............................",
"............................",
"............................",
"............................",
"............................",
"............................",
"............................",
"............................",
"............................",
"............................",
"............................",
"............................",
"++++++++++++++++++++++++++++",
"@@@@@@@@@@@@@@@@@@@@@@@@@@@@",
"@@@@@@@@@@@@@@@@@@@@@@@@@@@@",
"@@@@@@@@@@@@@@@@@@@@@@@@@@@@",
"@@@@@@@@@@@@@@@@@@@@@@@@@@@@",
"++++++++++++++++++++++++++++"];
this.xpm.title_4_active = [
"40 30 6 1",
" 	c None",
".	c #FDFEFE",
"+	c #FFFFFF",
"@	c #333333",
"#	c #53a600",
"$	c #333537",
"                             .++++++++++",
"                            @@@@@@@@@@@@",
"                           @@@@@@@@@@@@@",
"##########################@@@@@@@@@@@@@@",
"#########################@@@@@@@@@@@@@@@",
"#########################@@@@@@@@@@@@@@@",
"########################@@@@@@@@@@@@@@@@",
"#######################@@@@@@@@@@@@@@@@@",
"#######################@@@@@@@@@@@@@@@@@",
"######################@@@@@@@@@@@@@@@@@@",
"#####################@@@@@@@@@@@@@@@@@@@",
"#####################@@@@@@@@@@@@@@@@@@@",
"####################@@@@@@@@@@@@@@@@@@@@",
"###################@@@@@@@@@@@@@@@@@@@@@",
"###################@@@@@@@@@@@@@@@@@@@@@",
"##################@@@@@@@@@@@@@@@@@@@@@@",
"#################@@@@@@@@@@@@@@@@@@@@@@@",
"################@@$@@@@@@@@@@@@@@@@@@@@@",
"################@@@@@@@@@@@@@@@@@@@@@@@@",
"###############@@@@@@@@@@@@@@@@@@@@@@@@@",
"##############@@@@@@@@@@@@@@@@@@@@@@@@@@",
"##############@@@@@@@@@@@@@@@@@@@@@@@@@@",
"#############@@@@@@@@@@@@@@@@@@@@@@@@@@@",
"############@@@@@@@@@@@@@@@@@@@@@@@@@@@@",
"+++++++++++++@@@@@@@@@@@@@@@@@@@@@@@@@@@",
"@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@",
"@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@",
"@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@",
"@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@",
"++++++++++++++++++++++++++++++++++++++++"];
this.xpm.title_4_inactive = [
"40 30 6 1",
" 	c None",
".	c #FDFEFE",
"+	c #FFFFFF",
"@	c #333333",
"#	c #D9D9D9",
"$	c #333537",
"                             .++++++++++",
"                            @@@@@@@@@@@@",
"                           @@@@@@@@@@@@@",
"##########################@@@@@@@@@@@@@@",
"#########################@@@@@@@@@@@@@@@",
"#########################@@@@@@@@@@@@@@@",
"########################@@@@@@@@@@@@@@@@",
"#######################@@@@@@@@@@@@@@@@@",
"#######################@@@@@@@@@@@@@@@@@",
"######################@@@@@@@@@@@@@@@@@@",
"#####################@@@@@@@@@@@@@@@@@@@",
"#####################@@@@@@@@@@@@@@@@@@@",
"####################@@@@@@@@@@@@@@@@@@@@",
"###################@@@@@@@@@@@@@@@@@@@@@",
"###################@@@@@@@@@@@@@@@@@@@@@",
"##################@@@@@@@@@@@@@@@@@@@@@@",
"#################@@@@@@@@@@@@@@@@@@@@@@@",
"################@@$@@@@@@@@@@@@@@@@@@@@@",
"################@@@@@@@@@@@@@@@@@@@@@@@@",
"###############@@@@@@@@@@@@@@@@@@@@@@@@@",
"##############@@@@@@@@@@@@@@@@@@@@@@@@@@",
"##############@@@@@@@@@@@@@@@@@@@@@@@@@@",
"#############@@@@@@@@@@@@@@@@@@@@@@@@@@@",
"############@@@@@@@@@@@@@@@@@@@@@@@@@@@@",
"+++++++++++++@@@@@@@@@@@@@@@@@@@@@@@@@@@",
"@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@",
"@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@",
"@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@",
"@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@",
"++++++++++++++++++++++++++++++++++++++++"];
this.xpm.title_5_active = [
"8 30 3 1",
" 	c None",
".	c #FFFFFF",
"+	c #333333",
"........",
"++++++++",
"++++++++",
"++++++++",
"++++++++",
"++++++++",
"++++++++",
"++++++++",
"++++++++",
"++++++++",
"++++++++",
"++++++++",
"++++++++",
"++++++++",
"++++++++",
"++++++++",
"++++++++",
"++++++++",
"++++++++",
"++++++++",
"++++++++",
"++++++++",
"++++++++",
"++++++++",
"++++++++",
"++++++++",
"++++++++",
"++++++++",
"++++++++",
"........"];
this.xpm.title_5_inactive = [
"8 30 3 1",
" 	c None",
".	c #FFFFFF",
"+	c #333333",
"........",
"++++++++",
"++++++++",
"++++++++",
"++++++++",
"++++++++",
"++++++++",
"++++++++",
"++++++++",
"++++++++",
"++++++++",
"++++++++",
"++++++++",
"++++++++",
"++++++++",
"++++++++",
"++++++++",
"++++++++",
"++++++++",
"++++++++",
"++++++++",
"++++++++",
"++++++++",
"++++++++",
"++++++++",
"++++++++",
"++++++++",
"++++++++",
"++++++++",
"........"];
this.xpm.top_left_active = [
"8 30 3 1",
" 	c None",
".	c #FFFFFF",
"+	c #333333",
"........",
".+++++++",
".+++++++",
".+++++++",
".+++++++",
".+++++++",
".+++++++",
".+++++++",
".+++++++",
".+++++++",
".+++++++",
".+++++++",
".+++++++",
".+++++++",
".+++++++",
".+++++++",
".+++++++",
".+++++++",
".+++++++",
".+++++++",
".+++++++",
".+++++++",
".+++++++",
".+++++++",
".+++++++",
".+++++++",
".+++++++",
".+++++++",
".+++++++",
".++++++."];
this.xpm.top_left_inactive = [
"8 30 3 1",
" 	c None",
".	c #FFFFFF",
"+	c #333333",
"........",
".+++++++",
".+++++++",
".+++++++",
".+++++++",
".+++++++",
".+++++++",
".+++++++",
".+++++++",
".+++++++",
".+++++++",
".+++++++",
".+++++++",
".+++++++",
".+++++++",
".+++++++",
".+++++++",
".+++++++",
".+++++++",
".+++++++",
".+++++++",
".+++++++",
".+++++++",
".+++++++",
".+++++++",
".+++++++",
".+++++++",
".+++++++",
".+++++++",
".++++++."];
this.xpm.top_right_active = [
"8 30 3 1",
" 	c None",
".	c #FFFFFF",
"+	c #333333",
"........",
"+++++++.",
"+++++++.",
"+++++++.",
"+++++++.",
"+++++++.",
"+++++++.",
"+++++++.",
"+++++++.",
"+++++++.",
"+++++++.",
"+++++++.",
"+++++++.",
"+++++++.",
"+++++++.",
"+++++++.",
"+++++++.",
"+++++++.",
"+++++++.",
"+++++++.",
"+++++++.",
"+++++++.",
"+++++++.",
"+++++++.",
"+++++++.",
"+++++++.",
"+++++++.",
"+++++++.",
"+++++++.",
".++++++."];
this.xpm.top_right_inactive = [
"8 30 3 1",
" 	c None",
".	c #FFFFFF",
"+	c #333333",
"........",
"+++++++.",
"+++++++.",
"+++++++.",
"+++++++.",
"+++++++.",
"+++++++.",
"+++++++.",
"+++++++.",
"+++++++.",
"+++++++.",
"+++++++.",
"+++++++.",
"+++++++.",
"+++++++.",
"+++++++.",
"+++++++.",
"+++++++.",
"+++++++.",
"+++++++.",
"+++++++.",
"+++++++.",
"+++++++.",
"+++++++.",
"+++++++.",
"+++++++.",
"+++++++.",
"+++++++.",
"+++++++.",
".++++++."];

this.convert_xpm_to_canvas = function () {
      Object.keys(this.xpm).forEach(function (element){
              let xpm = this.get_xpm_data(element);
              let colors = this.get_xpm_colortable(xpm.ctable)['table'];
              let x = 0;
              let y = 0;
              //ctx.clearRect(0,0,500,250);
              this.img[element] = {canvas: document.createElement('canvas'), width: xpm.width, height: xpm.height};
              this.img[element].canvas.id = element;
              this.img[element].canvas.width = xpm.width;
              this.img[element].canvas.height = xpm.height;
              this.img[element].canvas.ctx = this.img[element].canvas.getContext("2d");
              for(x=0;x<xpm.width;x++) {
                  for(y=0;y<xpm.height;y++) {
                      /* assuming 1 character per pixel for now */
                      let symbol = xpm.pixels[y][x];
                      if(colors[symbol]=='None') {
                        this.img[element].canvas.ctx.fillStyle = 'rgba(0,0,0,0)';
                      } else {
                        this.img[element].canvas.ctx.fillStyle = '#'+colors[symbol];
                      }
                      this.img[element].canvas.ctx.fillRect(x, y, 1, 1);
                  }
              }
      }.bind(this));
};
// returns width, height obj
this.get_xpm_data = function (file) {
	let row = this.xpm[file][0].split(" ");
  let width = parseInt(row[0]);
  let height = parseInt(row[1]);
  let colors = parseInt(row[2]);
  let cpp = parseInt(row[3])
  let ctable = this.xpm[file].slice(1,colors+1);
  let pixels = this.xpm[file].slice(colors+1);
  return {width: width, height: height, colors: colors, cpp: cpp, ctable: ctable, pixels:pixels};
};
this.get_xpm_colortable= function (ctable, cpp) {
    let generated_table = [];
    let i = 0;
    for(i=0;i<ctable.length;i++) {
      //assumes 1cpp
      let entry = ctable[i];
      let symbol = entry[0];
      //let color_block = tabs[1];
      //color_block = color_block.split(" ");
      let color_block = entry.substr(1).match(/\w+/gm);
      let k = 0;
      for(k=0;k<color_block.length;k+=2) {
        /*only interested in the 'c' color stuff atm*/
          if (color_block[k] == "c") {
            generated_table[symbol] = color_block[k+1];
          }
      }
    }
      return {length: i, table: generated_table};
  };

}

var theme = new xpm_template();
theme.convert_xpm_to_canvas();

/*
var dialog = {
		structure: {
    	top:['top_left','title_1','title_2','title_3','title_4','title_5'],
      middle:['left', 'right'],
      bottom:['bottom_left', 'bottom', 'bottom_right']
    }
};
*/
var w = 400;
var h = 200;
var fake = {
  origin: {x:theme.img['left_active'].width,y:theme.img['top_left_active'].height},
  w: w,
  h: h,
  width: w + (theme.img['left_active'].width*2),
  height:h + (theme.img['top_left_active'].height + theme.img['bottom_active'].height),
  x: 20,
  y: 40,
	mode: "active",
  active: {},
  inactive: {},
  title: "Application"
};
var modes = ['active','inactive'];
for (var mode of modes) {
  let i = 0, xoffset = 0, img = {}, yoffset = 0; 
  fake[mode].canvas = document.createElement('canvas');
  fake[mode].canvas.width = fake.width;
  fake[mode].canvas.height = fake.height;
  fake[mode].canvas.ctx = fake[mode].canvas.getContext("2d");

  
  img = theme.img['title_3_'+mode];
  xoffset = theme.img['top_left_'+mode].width;
	for(i=xoffset;i<fake.width-theme.img['top_left_'+mode].width-theme.img['top_right_'+mode].width;i+=img.width) {
  	fake[mode].canvas.ctx.drawImage(img.canvas, i, 0);
		//xoffset+=img.width;
  }

  img = theme.img['bottom_'+mode];
  yoffset = fake.height - img.height;
  xoffset = theme.img['top_left_'+mode].width;
	for(i=xoffset;i<fake.width-theme.img['top_left_'+mode].width-theme.img['top_right_'+mode].width;i+=img.width) {
  	fake[mode].canvas.ctx.drawImage(img.canvas, i, yoffset);
		//xoffset+=img.width;
  }
 
 
  img = theme.img['left_'+mode];
  yoffset = theme.img['top_left_'+mode].height;
	for(i=0;i<fake.height-theme.img['top_left_'+mode].height-theme.img['bottom_left_'+mode].height;i+=img.height) {
  	fake[mode].canvas.ctx.drawImage(img.canvas, 0, yoffset);
		yoffset+=img.height;
  }
  
  img = theme.img['right_'+mode];
  yoffset = theme.img['top_right_'+mode].height;
	for(i=0;i<fake.height-theme.img['top_right_'+mode].height-theme.img['bottom_right_'+mode].height;i+=img.height) {
  	fake[mode].canvas.ctx.drawImage(img.canvas, fake.width - img.width, yoffset);
		yoffset+=img.height;
  }
  
  /*
  xoffset = 0;
  img = theme.img['top_left_'+mode];
  fake[mode].canvas.ctx.drawImage(img.canvas, 0,0);
  xoffset+=img.width;
  for(i=1;i<=5;i++) {
    img = theme.img['title_'+i+'_'+mode];
  	fake[mode].canvas.ctx.drawImage(img.canvas, xoffset, 0);
		xoffset+=img.width;
  }
  */
  xoffset = 0;
  img = theme.img['top_left_'+mode];
  fake[mode].canvas.ctx.drawImage(img.canvas, 0,0);
  xoffset+=img.width;

  img = theme.img['title_1_'+mode];
  fake[mode].canvas.ctx.drawImage(img.canvas, xoffset,0);
  xoffset+=img.width;

  img = theme.img['title_2_'+mode];
  fake[mode].canvas.ctx.drawImage(img.canvas, xoffset,0);
  xoffset+=img.width;

  img = theme.img['top_right_'+mode];
  xoffset = fake.width - img.width;
  fake[mode].canvas.ctx.drawImage(img.canvas, xoffset,0);

  img = theme.img['title_5_'+mode];
  xoffset-=img.width;
  fake[mode].canvas.ctx.drawImage(img.canvas, xoffset,0);
  

  img = theme.img['title_4_'+mode];
  xoffset-=img.width;
  fake[mode].canvas.ctx.drawImage(img.canvas, xoffset,0);

  /*
  img = theme.img['top_right_'+mode];
  xoffset = fake.width - img.width;
  fake[mode].canvas.ctx.drawImage(img.canvas, xoffset,0);
  xoffset-=img.width;
  for(i=5;i>=1;i--) {
    img = theme.img['title_'+i+'_'+mode];
  	fake[mode].canvas.ctx.drawImage(img.canvas, xoffset, 0);
		xoffset-=img.width;
  }
  */
  img = theme.img['bottom_left_'+mode];
  fake[mode].canvas.ctx.drawImage(img.canvas, 0,fake.height-img.height);
  img = theme.img['bottom_right_'+mode];
  fake[mode].canvas.ctx.drawImage(img.canvas, fake.width - img.width,fake.height-img.height);

/*
  fake[mode].canvas.ctx.fillStyle = '#53a600';
  fake[mode].canvas.ctx.fillRect(fake.origin.x, fake.origin.y, w, h);
*/
  fake[mode].canvas.ctx.fillStyle = '#ffffff';
  fake[mode].canvas.ctx.font="18px Arial";
  let text_width = fake[mode].canvas.ctx.measureText(fake.title).width;
  let text_height = fake[mode].canvas.ctx.measureText("M").width+4;
  fake[mode].canvas.ctx.strokeStyle = 'rgba(0,0,0,0.3)';
  fake[mode].canvas.ctx.lineWidth=2;
  fake[mode].canvas.ctx.strokeText(fake.title,(fake.width /2) - (text_width/2)  +1,text_height +1);
  fake[mode].canvas.ctx.fillText(fake.title,(fake.width /2) - (text_width/2),text_height);
}

/* 
<div id="window_1" class="window">
  <div id="content_1" class="content"></div>
</div>
*/
  let wdow = fake.active.canvas.toDataURL();
  let w1 = document.getElementById('window_1');
  w1.style.width = fake.width + "px";
  w1.style.height = fake.height + "px";
  w1.style.top = "30px";
  w1.style.left = "30px";
  w1.style.position = "absolute";
  w1.style.zIndex = "100";
  w1.style.backgroundImage = "url(" + wdow + ")";

  let c1 = document.getElementById('content_1');
  c1.style.width = fake.w + "px";
  c1.style.height = fake.h + "px";
  c1.style.top = fake.origin.y + "px";
  c1.style.left = fake.origin.x + "px";
  c1.style.position = "relative";

dragElement(document.getElementById("window_1"));

function dragElement(decoration) {
  var oldx = 0, oldy = 0;
  decoration.onmousedown = function (e) {
    if (e.target.id == decoration.id) {
      oldx = e.clientX;
      oldy = e.clientY;
      document.onmouseup = function() {
        document.onmouseup = null;
        document.onmousemove = null;
      };
      document.onmousemove = function (e) {
        let x = oldx - e.clientX;
        let y = oldy - e.clientY;
        oldx = e.clientX;
        oldy = e.clientY;
        decoration.style.top = (decoration.offsetTop - y) + "px";
        decoration.style.left = (decoration.offsetLeft - x) + "px";
      };
    }
  }
}

</script>
